---
pubDatetime: 2025-07-21T15:00:00.000Z
title: 'LINE Bot × AI：1週間でAIチャットボットを作ってみた振り返り'
featured: true
draft: false
tags:
  - linebot
  - ai
  - nextjs
  - prisma
  - vercel
  - 振り返り
description: LINE Bot + Next.js + AI で何かを作ってみたものの、結局普通のAIチャットと何が違うのか分からない仕上がりに。技術的な学びと反省をまとめてみました。
toc: true
---

## 作ったもの：「ムギちゃん」LINEBot

最近、LINEBot × AIの組み合わせで「ムギちゃん」というLINEBotを作ってみました。

### 当初の野望：「今日の私LOG Bot」

実は最初に作ろうと思ったのは、めちゃくちゃ本格的なライフログ・SNSサービスでした。

#### 元々の構想

- **ターゲット**: Z世代女性（18-26歳）
- **コンセプト**: 日常の行動・感情を記録しながら友達と比較・競争するSNS型ライフログ
- **主要機能（予定）**:
  - 日常ログ記録（気分・行動・使ったアイテム・関心事）
  - AI占い＋パーソナライズアドバイス
  - 友達・グループ比較機能
  - 競争・ランキングシステム
  - トレンド分析・パーソナルインサイト

壮大な設計書まで作って、Z世代の心理分析からビジネスモデルまで1000行超のドキュメントを書いていました。収益予測とか競合分析とか、まるで本当にサービスをローンチするみたいに。

もっと最初期には、TikTokをスクレイピングしてZ世代のトレンドを分析するみたいなことも考えていました。ただ結局、すでにトレンドになっている情報を出す意味があるのかわからない。あと表面上のトレンドを取得しても、所属しているグループによってトレンドって違うから、もっと友達とか近い人たちのトレンドみたいなのを取得した方が面白いなと思いました。

結局このアイデアもピボットしてムギちゃんになりましたが...。まぁ個人的には「みんなどう生きているんだろう」みたいなのは、自分もそうですが積極的に聞きに行こうとはしないけど知りたい、みたいな人は一定数いるんじゃないかなーってなんとなく思うので、いつの日か満足する形で作れたらいいですね。

#### なぜピボットしたのか

理由は、途中で妻に「それ何が面白いん？」って言われて、確かになーってなってピボットしました。

元々の構想では：

- 友達の日常をさりげなくウォッチできる
- みんなでランキング競争
- AIが個人の傾向を分析してくれる

みたいな感じだったんですが、友達同士で使ってもらうハードルも高いなと。

実現自体はできたら面白いかもしれないですが、結局のところ「ユーザーがどういう行動をするのか私が知りたいし、他のみんなも知りたいよね？」みたいなところを主軸にしたい気持ちが先行しすぎて、それよりの機能になってしまっていました。使いたくなるポイントが薄いなと感じたんです。

言葉だけで見たら悪くはないんですが、それを具体的に実現しようにも「まずなんでそれを使ってみようって思えるん？」みたいなところが弱くて。結局、始めの箇所に利用するポイントみたいなのがなく、あくまで「みんなが使っているからこそこういうことができるよね」みたいな部分ばかりって感じでした。

そんなこんなで、壮大な構想は諦めて、最終的にはもっとシンプルな「ムギちゃん」というLINEBotを作ることにしました。元々の野望と比べると大分しょぼくなりましたが、まずは何か動くものを作ってみようということで。

### 技術スタック

- **LINEBot API**
- **Next.js** (API Routes)
- **Prisma + Neon** (データベース)
- **OpenAI API**
- **Vercel** (デプロイ)

全部AI（GitHub Copilot）と最初らへんの構築とか実装はDevinに作らせて、1〜2日くらいで動くものができました。そっから色々調整したりとか無駄に機能をリッチにしようと頑張らせて、一歩進んで二歩下がりながら、最終的には1ヶ月くらいなんやかんやかかった気がします。

### 結果的にできた機能（実装状況不明）

正直、AIに全部丸投げして1400行くらいのhandlerになってしまったので、何がちゃんと動いて何が動いていないのか、どの機能とどの機能が繋がっているのか全く分からない状態になってしまいました。

#### 一応確認できそうな機能

- **ムギちゃんとの友好度機能**
  友好度によって話し方が変わる（らしい）。正直変わってるのかよく分からない。

- **アンケート機能**
  ムギちゃんからアンケートが来る。AIで自動的にアンケートを生成まではできたけど、それをクイックリプライで選択肢を設定できなくて、特に意味もなく選択肢を言ってくるだけ。返答しても会話を覚えていないので意味はない...。定義済みのアンケートに関しては適切にクイックリプライによる返信ができる。

- **プロフィール機能**
  よく分からないが実績機能があって、その実績をいくつ取得しているか確認できるが、なんの実績を取得しているかは分からない模様。

- **占い機能**
  これは生成が遅いけど、それっぽい占いをAIが生成して考えてくれる。血液型とか生年月日でより精度が高そうな占いを提供しようと、途中までプロフィール設定機能とかあったんだけど最終的にどっかに消えていってしまった。個人的には嫌いじゃない。

- **気分記録機能**
  これは最初期の機能作っている時にログを毎日取得して、溜まってきた時の振り返りができたらいいなみたいなのを思って毎日簡単に記録するようにした機能。LINEBotだと簡単に気分を登録しやすいと思って作った。とはいえできたところで今までのがどうなっているのかパッとわからなくなっていて、どこで履歴確認するのか全く分からん。つまり**よくわからない機能**になってしまっている...。

- **普通のAIチャット**
  それ以外の普通の返信はAIが自動で返信する。が、会話をlangchainとかで保持するように作ってはいないため、常にリフレッシュな状態で会話を忘れて関西弁で適当に喋ってくる。ちょっとうざい。

### 「よく分からないけどこんな感じの機能」という面白さ

AIで機能を作らせているからこそ、「こっちも意味わかんないけど、こんな感じの機能なんだよね」みたいな紹介の仕方しかできないのが逆に面白いなって思います。

普通だったら自分で作ったから「この機能はこういう意図で、こうやって動きます」って説明できるんですが、AIに丸投げして作らせたものは「多分こういう機能だと思うんですが、正直よく分からないです」みたいな感じになる。

逆にめっちゃ頑張って批判されるよりも、幾分かは気楽に「よく分からないけどこんな感じの機能」って言えるのがよかった点？です。

とりあえず動いてはいるので、興味がある人はLINEで友達登録してみてください。ただし、**OpenAIの課金制限やLINEBotの無料プランの制限で予告なく停止する可能性があります**。

<div style="display: flex; align-items: center; gap: 20px; margin: 20px 0;">
  <div style="text-align: center;">
    <img src="/assets/mugi-icon.png" alt="ムギちゃんLINE BOT" style="width: 120px; height: 120px; border-radius: 50%;">
    <p style="margin-top: 8px; font-size: 14px; color: #666;">ムギちゃんLINE BOT</p>
  </div>
  <div style="text-align: center;">
    <img src="/assets/mugi-line-bot-qr.png" alt="LINE友達登録QRコード" style="width: 120px; height: 120px;">
    <p style="margin-top: 8px; font-size: 14px; color: #666;">友達登録はこちら</p>
  </div>
</div>

## LINEBotを作ってみて感じたこと

### インターフェース面での発見

- **リッチメニューやクイックリプライがないと使いづらい**
  LINEBotはテキストを送ってアクションを実行する関係上、簡単に押して反応させられるコマンドがないと使いづらいなと思いました。

  個人的にはクイックリプライが気に入りました。リッチメニューと違って画像を用意しなくても使えるのが便利です。また、クイックリプライはユーザーが簡単に選択肢を選べるので、操作が直感的で良いです。ただ、LINEで文字を打つ時に絵文字が変換候補に出る端末だと、クイックリプライを押す時に邪魔でした。あと次の会話が来た時にクイックリプライが出てこないのも不便。

- **Flex Messageは結構いい感じ**
  Flex Messageを使うと、結構リッチにメッセージをカスタマイズできて良かったです。ただ、そのボタンで押した文言も結局は同じhandlerで読み取って処理するだけなので、アクションの文字列をどう管理するかをちゃんと考える必要があります。AIに丸投げしているとここら辺適当にやられすぎて常に動いていない（今もある気がする）ので、注意が必要です。

常にヘルプ押してコマンド確認させるのはだるいですね。かと言ってリッチメニュー用意するのもまためんどくさかったのでクイックリプライで妥協しました。

### 技術的な課題

- **状態管理が大変**
  Webと違ってインターフェースが簡素になる分、シンプルなものを動かすなら便利ですが、複雑なものを作ろうとすると大変でした。

  状態をDBで管理しないと、前の会話状態を覚えているわけではないので、アンケートの回答なのか普通の返信なのかを判断できません。この辺りは上手く実装できていない気がします。Redisとかを使って、もうちょっとゆるい状態管理をしてもいいかもしれません。

- **すべてのメッセージが同じhandlerに流れる**
  普通のメッセージもアクションとして読み込むべきメッセージも、すべて同じhandlerで受け取る必要があるので、処理の分岐が複雑になりました。ここら辺AIがいい感じにclass作ってserviceを分けてくれたのである程度ましですが、普段のWeb開発の感覚だとClassとか使わないので、どこで何をやっているのか全く分からない状態になってしまいました。見るのも直すのもだるすぎて、結局AIに修正を頼むことが多かったです。

- **開発後半がしんどかった**
  最初は楽しかったのですが、途中から1400行くらいのhandlerを編集するのに時間がかかるようになりました。AIが修正しては壊れ、修正しては別のところを放置し、全く動かない状態が続いてイライラ度が半端なかったです。途中分割を試みましたが他の状態とかをすぐに忘れやがるので一個直してはなんか壊れって感じです。髪の毛が抜けました。

### LINE というプラットフォームの良さ

それでも、**みんなが日常的に使っているアプリ**だからこそ、面白いものや使ってみたいと思えるものをbotとして提供できたら、導入の敷居は低いし、他の人にも送りやすいだろうなと思いました。

ただ、リッチなものを作るのはわっちにはしんどそうです。Webみたいに「このページにはこのコンポーネント」って分けられるわけじゃないので、個人的にはWebの方がやりやすいです。デザインを作らなくても良いのは便利ですが。

## AI開発を使ってみた感想

### 良かったこと

- **とにかく早い**
  AIでアプリケーションは本当に早く作れます。このLINEBotも実際に動かせるようになったのは1〜2日くらいでした。

- **ドキュメント調べてもらえる**
  テスト書かせながら一つ一つ作らせたり、ドキュメントを調べさせて実装してもらった内容はちゃんと動くし使えます。

### 大変だったこと・反省点

- **プロジェクトの概要をちゃんとドキュメント化するべき**
  何がしたいかをちゃんと整理しておかないと、AIが判断に迷います。それっぽく良さそうに思える実装をいとも簡単に作ってくるからワクワクするんですけど、蓋を開けてみたら大したことなくてがっかりしていました。定期的にこれみてくれって言えるようにしておくかつ自分が何したかったんだっけっていうのを思い出せるようにしておくためにも、プロジェクトの概要をちゃんとドキュメント化しておくといいのかなと思いました。

- **指示書（instruction）はちゃんと作る**
  最低限何のコマンドを実行してもいいか、どれが使えるかくらいは書いておかないと、bunのプロジェクトなのにnpmを使ってきたりします。ウザすぎる！！

- **一つの会話で多くのことをやらない方がいい**
  会話が溜まってくると、やって欲しくないことをやってきた時にそれを継続してやりがちです。クイックリプライのテキストを認識して動かす機能の発火テキストと実際の機能の発火テキストがマッチしていなかったりして、動いていないのにできましたって言われて普通にイライラしました。やって欲しくないって言ってるのに同じ会話で作業続けてたら気抜いた時に同じことをやり始めるので、会話を分けて一つの機能に対して一つの会話スレッドにした方がいいです。

- **一つの機能に対して一つの会話スレッド**
  複数を一気に作らせると、複数のものを達成するために仮の実装や適当な実装で進められます。できているか蓋を開けてみたら、それっぽくはできているけど繋ぎ込みが上手くいっていなくて実装できていない、みたいなことが発生します。

ここら辺もうちょっとちゃんとテスト作らせて、動くかAIに判断させた方がよかったかなーと思います。動くのを確認するのが人間だとどうしてもできてないのにできたって言いがちあいつら。

### 複雑な気持ち

- **実感がない**
  確かにできてはきているんですけど、できていないなんとも言えない感覚があります。エンジニアとしては、ソースコードを理解していないのに自分の理解度より高い実装をされて動いているって、なんか複雑な気持ちにさせられます。

  把握していないのに動いているのが怖いし、直さなきゃいけなくなった時に直せないって不安になります。

  あと「こういう技術を使っています！」って言うのに、それを使いこなせていない（実際に自分が書いていない）のに言っちゃっていいのかなって思ってしまいます。

とは言え、その分愛着を持って作らないなとも思いました。色々小さく作って出して改善していくなら変に愛着持ってこだわるよりも、さっさと出して改善していく方がいい気もするのでそういう点ではAIに作らせて出せるってのはいいかも。このline botに関してももし自分が手間暇かけて作っていたら、こだわってしまうし「これで出すのはよくない」とか「ここを直したい」とか思ってしまって、結局出せなかったと思います。それが悪いってわけではないですが自分の性格上、出せないことが多いので、AIに作らせて出すっていうのはいい経験になりました。

### AIに全部丸投げした結果の課題

- **1400行のhandlerによる複雑化**
  AIに全部任せた結果、1400行くらいのhandlerファイルになってしまいました。どのテキストに反応してどういう処理が動くのか、どの機能とどの機能が繋がっているのか全く分からない状態に。

- **AIの精度悪化**
  handlerが長すぎるせいで、AIの精度も悪くなっていた感じがあります。修正を依頼しても、その修正で別の機能が勝手に変わってしまったり、そもそも繋がっていなかったりする。

- **改善の難しさ**
  仮にこれをリリースして改善するってなっても、簡単に変更を加えるのが難しい状態になってしまいました。元の機能を壊したくないのに勝手に変わっちゃうし、そもそも何が繋がって何が繋がっていないのか分からない。

- **ぶん投げの代償**
  普通にAIに全てをやらせすぎたのが原因だと思います。ぶん投げたらそりゃ好き勝手やられるのは仕方ない。好き勝手やられてもある程度見れるって量だったらいいかもしれないけど、今回みたいなのはちょっと見る気も失せる量になってしまいました。

## プロダクト開発での学び

### 課題発見の難しさ

AIにニーズ調査をさせることはできるし、それっぽい統計データを調べさせたり、Xから声を拾ったりもできます。けど、結局よく分からない。

AIが拾ってきたニーズや課題も、結局「いいか」と判断できる軸が自分にはありません。直感で「いいな」って思うタイミングはあったのですが、それを具体化させると「違う」ってなります。

### MVPの考え方

MVPで完璧なものや充実しているものなんて作れないし、仮説を試したいからMVPって最小のものを作るんだから、足りなくて当たり前ではあります。だからこそ早く作って早く試してもらう必要がありました。

でも自分は「これで出したらよくない」って思って、改善改善みたいに気になるところを直しまくっていました。出してみて反応を見るべきだったのに、動いていない機能とか、自分が使ってみて「何が面白いん？」ってなってしまいました。結局AIにやらせても一定数こうなってしまうんだなとつくづく自分の性格が嫌になります。

### ユーザー視点の難しさ

自分にマッチしていないものを作るのは難しいです。かといって自分にマッチするものを作ろうと思っても、自分のことしか考えていないし、それを具体的にどうやってみんなに使ってもらうかを考えられません。

## 今後の方針

### 小さく作って出す

とりあえず、作ってみようって思えるものがないとそもそも作れないので、それを最小で作って出す。これをとにかくやっていこうと思います。

仮説の状態で出してもないのに、ピンとこないからとそこで修正してうーん違うなやっぱこうかな？とかやっているうちに悶々としてきて余計にしんどくなります。「これで使われるのか分からないな〜」って思うなら、まぁいいだろうくらいで出してみて、そこから何がダメだったんだろうで改善するようにしたいです。

### マーケティングを早い段階で

誰かに使ってもらうとか、触ってもらう、見てもらうってことを早い段階でやり始めるべきでした。「こういうの作ろうと思う」ってアイデアの段階であっても、ブログに載せるとかそういうのをやった方がいいなって思いました。

### 次はAI SDKとMCPを作ってみたい

全部AIに作らせるのは単純に怖いし、ただ待っているだけで作っても自分の力にもならないしつまらないので、めっちゃしょぼくてもいいから一緒に作って一緒に理解して出すってことをやっていきたいです。

## まとめ

結果的には「結局ただのAIチャットと何が違うのか分からない」仕上がりになってしまいました。

当初は壮大な設計書まで作って、Z世代女性向けのSNS型ライフログサービスを作ろうとしていたのに、最終的には「よく分からないけどこんな感じの機能があるムギちゃん」というLINEBotになりました。でも技術的にも考え方的にも学びは多かったです。

特に**AIに全部丸投げする危険性**を身をもって体験できたのは大きな学びでした。1400行のhandlerになってしまって、何がどう動いているのか分からなくなったのは反省点です。

でも逆に、**「よく分からないけどこんな機能」**という紹介の仕方ができるのは、AI開発ならではの面白さかもしれません。自分が作ったものなのに自分でもよく分からないって、ある意味新しい体験です。

AIがあれば確実にチャレンジできる幅が広がって楽しいです。自分が今まで時間がかかっていたものを省略できたり、悩みを整理したり、より悩ませてくれたり。簡単にできそうって思わせてくれるけど、やっぱりそう簡単にはいかない。でも着実にチャレンジできる幅は広がっています。

**とにかく作って出して使ってもらう。これしかない。**

もっと自分をアピールできるようになりたいし、焦ってはないけど焦っているので、お金稼げるようになりたい。もっと宣伝したい！

ほんとはAIとかMCPみたいなところを使ってサービス作りたかったのが色々周りに回って全く関係ないもの作ってしまったので、今はMCP作ってみたいのでサービス作るってよりかはシンプルなものをvercel/mcp-adapter使って作ってみたいなと思っています。

興味がある方はぜひLINEBotを触ってみてください。そして、このブログも見てくださいって感じです〜
